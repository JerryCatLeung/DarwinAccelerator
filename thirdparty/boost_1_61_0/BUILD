cc_library(
    name = 'boost',
    srcs = [
        'libs/atomic/src/lockpool.cpp',
        'libs/date_time/src/gregorian/greg_month.cpp',
        'libs/date_time/src/gregorian/greg_weekday.cpp',
        'libs/date_time/src/gregorian/date_generators.cpp',
        'libs/filesystem/src/codecvt_error_category.cpp',
        'libs/filesystem/src/operations.cpp',
        'libs/filesystem/src/path.cpp',
        'libs/filesystem/src/path_traits.cpp',
        'libs/filesystem/src/portability.cpp',
        'libs/filesystem/src/unique_path.cpp',
        'libs/filesystem/src/utf8_codecvt_facet.cpp',
        'libs/filesystem/src/windows_file_codecvt.cpp',
        'libs/regex/src/c_regex_traits.cpp',
        'libs/regex/src/cpp_regex_traits.cpp',
        'libs/regex/src/cregex.cpp',
        'libs/regex/src/fileiter.cpp',
        'libs/regex/src/icu.cpp',
        'libs/regex/src/instances.cpp',
        'libs/regex/src/posix_api.cpp',
        'libs/regex/src/regex.cpp',
        'libs/regex/src/regex_debug.cpp',
        'libs/regex/src/regex_raw_buffer.cpp',
        'libs/regex/src/regex_traits_defaults.cpp',
        'libs/regex/src/static_mutex.cpp',
        'libs/regex/src/w32_regex_traits.cpp',
        'libs/regex/src/wc_regex_traits.cpp',
        'libs/regex/src/wide_posix_api.cpp',
        'libs/regex/src/winstances.cpp',
        'libs/regex/src/usinstances.cpp',
        'libs/system/src/error_code.cpp',
        'libs/thread/src/pthread/thread.cpp',
        'libs/thread/src/pthread/once.cpp',
        'libs/thread/src/future.cpp',
    ],
    extra_cppflags = [
        '-ftemplate-depth-128',
        '-finline-functions',
        '-Wno-inline',
        '-DBOOST_ALL_NO_LIB=1',
        '-DBOOST_ATOMIC_SOURCE',
        '-DBOOST_ATOMIC_STATIC_LINK=1',
        '-DBOOST_DATE_TIME_STATIC_LINK',
        '-DBOOST_FILESYSTEM_STATIC_LINK=1',
        '-DBOOST_SYSTEM_STATIC_LINK=1',
        '-DBOOST_THREAD_BUILD_LIB=1',
        '-DBOOST_THREAD_DONT_USE_CHRONO',
        '-DBOOST_THREAD_POSIX',
        '-DDATE_TIME_INLINE',
    ],
    optimize = [
        '-O3',
    ],
    deps = [
        '#pthread',
        '#rt',
    ],
    incs = [
        '.',
    ],
    warning = 'no'
)
